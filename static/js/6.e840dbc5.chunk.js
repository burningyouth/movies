(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[6],{157:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Y}));var n=a(43),r=a(0),c=a.n(r),o=a(92),l=a(90),i=a(159),s=a(144),m=a(16),u=a(21),d=a(121),p=a(160),h=a(148),g=Object(l.a)({root:{marginTop:30},textField:{width:"100%","& p":{position:"absolute",bottom:"-30px"}},button:{width:"100%",marginTop:"auto"},caption:{color:"#424242",textAlign:"right"}}),f=function(e){var t=e.query,a=e.handleQuery,n=g(),o=Object(r.useState)(""),l=Object(d.a)(o,2),i=l[0],m=l[1],u=Object(r.useReducer)((function(e,t){return m(""),t.query.match(/[*?&^%$@!()#|]/)?(m("Don't use special characters!"),t.query.replace(/[*?&^%$@!()#|]/,"")):t.query}),t),f=Object(d.a)(u,2),b=f[0],v=f[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),a(b)}},c.a.createElement(s.a,{container:!0,spacing:3,className:n.root,alignItems:"flex-end"},c.a.createElement(s.a,{item:!0,xs:8,sm:9},c.a.createElement(p.a,{label:"Search",value:b,className:n.textField,error:!!i,helperText:i,onChange:function(e){e.preventDefault(),v({query:e.target.value})}})),c.a.createElement(s.a,{item:!0,xs:4,sm:3},c.a.createElement(h.a,{type:"submit",variant:"outlined",color:"primary",className:n.button},"Search")))))},b=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.searchInfo.query}));return c.a.createElement(f,{query:t,handleQuery:function(t){return e(Object(u.c)(t))}})},v=a(156),E=a(94),y=Object(l.a)({root:{marginTop:20},caption:{color:"#424242"}}),O=function(e){var t=e.total,a=y(),n=a.caption,r=a.root;return c.a.createElement(v.a,{className:r},c.a.createElement(E.a,{variant:"body1",display:"block",className:n},"Found ",t," movies"))},j=a(149),x=a(150),w=a(152),N=a(151),k=a(23),B=a(164),S=a(153),C=Object(l.a)({actionArea:{display:"flex",flexDirection:"column",justifyContent:"flex-start"},mainContent:{width:"calc(100% - 32px)"},link:{textDecoration:"none",color:"inherit"},genres:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",height:50,paddingLeft:16,paddingRight:16},genresWrapper:{width:"100%"},chip:{marginRight:10},overview:{height:75,overflow:"hidden"},title:{height:35,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),I=function(e){var t=e.movie,a=C(),n=t.overview;n.length>150&&(n=t.overview.substr(0,150).trim()+"...");var r=Object(l.a)({media:{height:450,width:"100%",backgroundSize:"cover",backgroundImage:"url(".concat(t.poster_path,"), url(notfound.jpg)")}})().media;return c.a.createElement(s.a,{item:!0,xs:12,sm:6,md:4,id:"item_".concat(t.id)},c.a.createElement(j.a,null,c.a.createElement(k.b,{to:"/detail/".concat(t.id),className:a.link},c.a.createElement(x.a,{className:a.actionArea},c.a.createElement(N.a,{className:r,title:"Movie poster",src:"notfound.jpg"}),c.a.createElement(w.a,{className:a.mainContent},c.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2",className:a.title},t.title),c.a.createElement(E.a,{gutterBottom:!0,variant:"body2",color:"textSecondary",component:"p",className:a.overview},n)),c.a.createElement("div",{className:a.genresWrapper},c.a.createElement(S.a,{light:!0}),c.a.createElement("div",{className:a.genres},t.genres.slice(0,3).map((function(e){return c.a.createElement(B.a,{size:"small",label:e,className:a.chip,key:e})})),t.genres.length>3&&c.a.createElement(B.a,{size:"small",label:"\xb7\xb7\xb7",className:a.chip,key:"\xb7\xb7\xb7"})))))))},T=Object(l.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:30,marginBottom:30}}),F=function(e){var t=e.handleClick,a=T().root;return c.a.createElement("div",{className:a},c.a.createElement(h.a,{variant:"outlined",color:"primary",onClick:function(){return t()}},"Load more"))},q=a(95),R=Object(l.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:30,marginBottom:30}}),D=function(){var e=R().root;return c.a.createElement("div",{className:e},c.a.createElement(q.a,null))},A=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.movies}));return t.isFetching?c.a.createElement(D,null):t.total===t.data.length?c.a.createElement(c.a.Fragment,null):c.a.createElement(F,{handleClick:function(){return e(Object(u.b)(t.page+1))}})},V=Object(l.a)({root:{marginTop:40}}),W=function(e){var t=e.movies,a=V().root;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{container:!0,spacing:3,className:a},t.map((function(e){return c.a.createElement(I,{movie:e,key:e.id})}))),c.a.createElement(A,null))},z=Object(l.a)((function(e){return Object(i.a)({button:{width:"100%"},searchBy:Object(n.a)({marginRight:20},e.breakpoints.down("xs"),{marginRight:0,marginBottom:20})})})),J=function(e){var t=e.searchBy,a=e.handleSearchBy,n=z();return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{item:!0,xs:12,sm:4,className:n.searchBy},c.a.createElement(h.a,{variant:"title"===t?"contained":"outlined",color:"primary",className:n.button,onClick:function(){return a("title")}},"Title")),c.a.createElement(s.a,{item:!0,xs:12,sm:4},c.a.createElement(h.a,{variant:"genres"===t?"contained":"outlined",color:"primary",className:n.button,onClick:function(){return a("genres")}},"Genre")))},L=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.searchInfo.searchBy}));return c.a.createElement(J,{searchBy:t,handleSearchBy:function(t){return e(Object(u.d)(t))}})},Q=a(163),$=a(165),_=a(147),G=a(155),M=Object(l.a)({root:{width:"100%",marginTop:30}});var H=function(e){var t,a=e.sortOptions,n=e.sortOrder,r=e.value,o=e.handleValue,l=e.label,i=M().root;return a?t=Object.keys(a).map((function(e){return c.a.createElement($.a,{value:e,key:e},a[e])})):n&&(t=Object.keys(n).map((function(e){return c.a.createElement($.a,{value:e,key:e},n[e])}))),c.a.createElement(_.a,{className:i},c.a.createElement(Q.a,{id:"demo-simple-select-label"},l),c.a.createElement(G.a,{value:r,onChange:function(e){return o(e.target.value)}},t))},K=Object(l.a)((function(e){return Object(i.a)({sortBy:Object(n.a)({marginRight:20},e.breakpoints.down("xs"),{marginRight:0,marginBottom:20})})})),P=function(e){var t=e.sortBy,a=e.sortOptions,n=e.sortOrder,r=e.handleSortBy,o=e.handleSortOrder,l=K();return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{item:!0,xs:12,sm:4,className:l.sortBy},c.a.createElement(H,{label:"Sort by",value:t,handleValue:function(e){return r(e)},sortOptions:a})),c.a.createElement(s.a,{item:!0,xs:12,sm:4},c.a.createElement(H,{label:"Sort order",value:n,handleValue:function(e){return o(e)},sortOrder:{desc:"Descending",asc:"Ascending"}})))},U=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.searchInfo}));return c.a.createElement(P,{sortBy:t.sortBy,sortOptions:t.sortOptions,handleSortBy:function(t){return e(Object(u.e)(t))},sortOrder:t.sortOrder,handleSortOrder:function(t){return e(Object(u.f)(t))}})},X=Object(l.a)((function(e){return Object(i.a)({controls:{display:"flex",alignItems:"space-between",flexWrap:"wrap",marginTop:20},control:Object(n.a)({width:"49%"},e.breakpoints.down("xs"),{width:"100%"})})}));function Y(e){var t=e.movies,a=e.total,n=X();return c.a.createElement(o.a,{maxWidth:"lg"},c.a.createElement(b,null),c.a.createElement("div",{className:n.controls},c.a.createElement(s.a,{container:!0,spacing:0,className:n.control,alignItems:"center"},c.a.createElement(L,null)),c.a.createElement(s.a,{container:!0,spacing:0,className:n.control,alignItems:"center",justify:"flex-end"},c.a.createElement(U,null))),c.a.createElement(O,{total:a}),c.a.createElement(W,{movies:t}))}}}]);
//# sourceMappingURL=6.e840dbc5.chunk.js.map